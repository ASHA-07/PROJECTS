<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>weather</title>
</head>
<body>
    <link rel="stylesheet" href="weather.css">
    <center>
    <div class="container">
        <h1 style="color: aliceblue;">Weather App ☂️</h1>
        <input type="text" id="CityInput" placeholder="Enter city name"/><br>
        <br>
        <button id="getWeatherBtn">Get Weather</button>
        <div id="weatherInfo"></div>
    </div>

    <script>
    document.getElementById('getWeatherBtn').addEventListener('click',function() {
        const city = document.getElementById('CityInput').value;
        if(city){
            getWeather(city);
        }
        else{
            alert('please enter a  city name')
        }
    });
        async function getWeather(city){
            const apikey = '9b3862e84f74cfcd9d29956ae0c6ed7a';
            const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apikey}`;
            try{
                const response = await fetch(url);
                if (!response.ok){
                    throw new error("city not found");
                }
                console.log(response);
                const data = await response.json();
                displayWeather(data);
            }
            catch(error){
                document.getElementById('weatherInfo').innerHTML = `<p>${error.message}</p>`;
            }
        }
        function displayWeather(data){
            const weatherInfoDiv=document.getElementById('weatherInfo');
            const{name,main,weather}=data;
            weatherInfoDiv.innerHTML= `
            <h2>weather in ${name}</h2>
            <p>temperature:${main.temp}℃</p>
            <p>weather:${weather[0].description}</p>
            `;
        }
        </script>
        </center>
</body>
</html>
